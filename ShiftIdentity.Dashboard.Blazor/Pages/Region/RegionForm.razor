@attribute [Authorize]
@layout Shared.DefaultLayout
@attribute [Route($"{Constants.IdentityRoutePreifix}/{nameof(RegionForm)}/{{Key?}}")]
@inherits ShiftForm<RegionForm, ShiftSoftware.ShiftIdentity.Core.DTOs.Region.RegionDTO>
@inject HttpClient Http
@inject ShiftIdentityLocalizer Loc

<ShiftEntityForm @bind-Mode="Mode"
                 @bind-Value="TheItem"
                 @ref="FormContainer"
                 Endpoint="@($"{Constants.IdentityRoutePreifix}Region")"
                 Title="@Loc["Region"]"
                 @bind-Key="@Key"
                 AllowSaveAsNew
                 TypeAuthAction="ShiftIdentityActions.Regions"
                 T="ShiftSoftware.ShiftIdentity.Core.DTOs.Region.RegionDTO">

    <LocalizedTextField @bind-Value="TheItem.Name" Label="@Loc["Name"]" For="() => TheItem.Name" />

    <ShiftAutocomplete Label="@Loc["Country"]"
                       For="@(() => TheItem.Country)"
                       @bind-Value="TheItem.Country"
                       EntitySet="IdentityCountry"
                       TEntitySet="CountryListDTO" />

    <MudTextField ReadOnly="@ReadOnly"
                  Disabled="@Disabled"
                  OnlyValidateIfDirty="true"
                  Label="@Loc["Short Code"]"
                  @bind-Value="TheItem.ShortCode"
                  For="@(() => TheItem.ShortCode)" />

    <MudTextField ReadOnly="@ReadOnly"
                  Disabled="@Disabled"
                  OnlyValidateIfDirty="true"
                  Label="@Loc["Integration ID"]"
                  @bind-Value="TheItem.IntegrationId"
                  For="@(() => TheItem.IntegrationId)" />

    <MudItem xs="12" sm="12" lg="12" xl="12">
        <FileUploader ShowThumbnail="true"
                      Label="@Loc["Flag"]"
                      For="() => TheItem.Flag"
                      MaxFileCount="1"
                      AcceptImages="true"
                      @bind-Values="TheItem.Flag" />
    </MudItem>

    <MudNumericFieldExtended ReadOnly="@ReadOnly"
                             Disabled="@Disabled"
                             OnlyValidateIfDirty="true"
                             Label="@Loc["Display Order"]"
                             @bind-Value="TheItem.DisplayOrder"
                             For="@(() => TheItem.DisplayOrder)" />
</ShiftEntityForm>
